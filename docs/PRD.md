# Stock Screener PRD (Product Requirements Document)

> 최종 업데이트: 2025-12-29

## 1. 제품 비전

### 핵심 가치

> **가치투자를 할만한 종목을 찾고 어떤 액션을 지금 해야하는지 인사이트 제공**

### 최종 목표

채팅 기반 AI Agent가 가치투자를 제안하고 컨설팅하는 **개인 투자 어드바이저**

### 타겟 사용자

- 가치투자에 관심 있는 개인 투자자
- 미국/한국 주식 시장에 투자하는 사용자
- 지표 기반 의사결정을 원하는 사용자

---

## 2. 설계 원칙

### 2.1 인사이트 우선 (Insight First)

- 데이터 나열 < 의미 있는 해석
- "이 종목 살만해?"에 명확한 답변
- 복잡한 지표를 단순한 신호로 변환

### 2.2 액션 지향 (Action-Oriented)

- 모든 분석에는 다음 행동 제안 포함
- 매수/관망/회피 등 명확한 가이드
- 조건부 액션 제시 ("X% 하락 시 매수 고려")

### 2.3 리스크 명시 (Risk Visibility)

- 위험 요소는 항상 눈에 띄게 표시
- 재무 건전성 경고 필수 표시
- 면책 조항 적절히 배치

### 2.4 컨텍스트 제공 (Context Matters)

- 절대 수치보다 상대적 위치 강조
- 섹터/시장 평균 대비 비교
- Graham Number 대비 저/고평가 %

---

## 3. 핵심 기능

### 3.1 스크리닝 (Phase 2) - 완료

| 기능 | 설명 | 상태 |
|------|------|------|
| 프리셋 필터 | Graham, Buffett, Dividend 등 | ✅ |
| 커스텀 필터 | 20개 지표 기반 필터링 | ✅ |
| 정렬/페이지네이션 | 결과 탐색 | ✅ |

### 3.2 워치리스트/알림 (Phase 3) - 완료

| 기능 | 설명 | 상태 |
|------|------|------|
| 워치리스트 | 관심 종목 저장 | ✅ |
| 알림 | 지표 조건 기반 알림 | ✅ |
| 디스코드 봇 | 봇으로 조회/관리 | ✅ |

### 3.3 투자 인사이트 (Phase 3.5) - 완료

| 기능 | 설명 | 상태 |
|------|------|------|
| 투자 신호 | 종합 점수 + 매수/관망/회피 | ✅ |
| 액션 가이드 | 구체적 행동 제안 | ✅ |
| 리스크 경고 | 재무 위험 명시 | ✅ |

### 3.4 AI 분석 (Phase 4) - 예정

| 기능 | 설명 | 상태 |
|------|------|------|
| AI 종합 분석 | Claude + 웹검색 기반 분석 | 예정 |
| 뉴스 반영 | 최근 이슈 수집 | 예정 |
| OpenSearch 저장 | 분석 결과 캐싱 | 예정 |

### 3.5 AI 어드바이저 (Phase 5) - 예정

| 기능 | 설명 | 상태 |
|------|------|------|
| 오늘의 추천 | 저평가 종목 자동 추천 | 예정 |
| 개인화 추천 | 워치리스트 기반 유사 종목 | 예정 |
| 채팅 UI | 자연어 질의 응답 | 예정 |

### 3.6 운영/인프라 (Phase 외)

| 기능 | 설명 | 상태 |
|------|------|------|
| 티커 요청 | 미수집 종목 GitHub Issue로 요청 | 예정 |
| 디스코드 봇 24/7 배포 | 상시 운영 | 예정 |
| i18n | 한/영 다국어 | 예정 |
| 커스텀 도메인 | 도메인 연결 | 예정 |
| 프리셋 고급 기능 | 수정/공유/복제 | 예정 |

---

## 4. 투자 신호 기준

### 4.1 점수 계산 (0-100)

기본 점수 50에서 시작, 각 지표별 가감

| 지표 | 조건 | 점수 |
|------|------|------|
| P/E | < 15 | +15 |
| P/E | 15-25 | +5 |
| P/E | > 25 | -10 |
| P/B | < 1 | +15 |
| P/B | 1-1.5 | +5 |
| P/B | > 3 | -10 |
| ROE | > 20% | +15 |
| ROE | 10-20% | +10 |
| ROE | < 5% | -10 |
| D/E | < 0.5 | +10 |
| D/E | > 2 | -15 |
| RSI | < 30 | +10 |
| RSI | > 70 | -10 |
| Graham | 현재가 < Graham Number | +15 |
| MA Trend | Bullish (MA50 > MA200) | +5 |
| MACD | Histogram > 0 | +5 |

### 4.2 신호 매핑

| 점수 | 신호 | 표시 |
|------|------|------|
| 70+ | STRONG_BUY | 강력 매수 |
| 55-69 | BUY | 매수 고려 |
| 40-54 | HOLD | 관망 |
| 25-39 | SELL | 매도 고려 |
| 0-24 | STRONG_SELL | 회피 |

### 4.3 리스크 경고

| 조건 | 레벨 | 메시지 |
|------|------|--------|
| D/E > 2 | HIGH | 높은 부채 비율 - 재무 위험 |
| Current Ratio < 1 | HIGH | 유동성 위험 - 단기 채무 상환 능력 부족 |
| Beta > 1.5 | MEDIUM | 높은 변동성 - 시장 대비 변동폭 큼 |
| RSI > 80 | MEDIUM | 과매수 상태 - 조정 가능성 |
| Net Margin < 0 | HIGH | 순손실 기업 |

---

## 5. UX 요구사항

### 5.1 종목 상세 페이지 레이아웃

```
┌─────────────────────────────────────┐
│ 헤더 (티커, 이름, 마켓 배지)         │
├─────────────────────────────────────┤
│ 🚨 Risk Alerts (해당 시)            │ ← 위험 시 최상단
├─────────────────────────────────────┤
│ ⭐ Investment Signal                │
│ BUY (65/100)                        │
│ 저평가 + 우수한 수익성              │
├─────────────────────────────────────┤
│ 📋 Action Guide                     │
│ • Graham 대비 17% 저평가            │
│ • 52주 저점 근접 시 추가 매수 기회  │
├─────────────────────────────────────┤
│ 가격 정보                           │
├─────────────────────────────────────┤
│ Key Metrics (기존 지표)             │
├─────────────────────────────────────┤
│ ⚠️ 면책 조항                        │
└─────────────────────────────────────┘
```

### 5.2 워치리스트 페이지

- 종목별 신호 요약 (BUY/HOLD/SELL 배지)
- 핵심 지표 하이라이트 (P/E, ROE, RSI)
- 상세 페이지 링크

### 5.3 비워치리스트 종목

- "워치리스트에 추가하면 상세 분석 제공" 안내
- 워치리스트 추가 버튼 노출

---

## 6. 기술 아키텍처

### 6.1 Phase 3.5 (규칙 기반)

```
[프론트엔드]
    │ scoring.ts (점수 계산)
    │ risks.ts (리스크 감지)
    ↓
[InvestmentSignal] [ActionGuide] [RiskAlert]
    │
    ↓
[종목 상세 페이지]
```

### 6.2 Phase 4 (AI 분석)

```
[데이터 수집 완료]
    │
    ↓
[Claude Code CLI] ← Max 구독 활용 (API 비용 $0)
    │ - 웹검색 (뉴스, 이슈)
    │ - 지표 분석
    │ - 인사이트 생성
    ↓
[OpenSearch] ← 직접 호스팅
    │ - 티커별 분석 문서 저장
    │ - 변경분만 업데이트
    ↓
[Stock-Screener API]
    │ - OpenSearch 조회만
    ↓
[프론트엔드]
```

---

## 7. 성공 지표

### 7.1 사용자 가치

- 사용자가 "이 종목 살만해?"에 대한 답을 얻을 수 있는가?
- 명확한 액션 가이드를 제공하는가?
- 리스크를 충분히 인지시키는가?

### 7.2 기능 완성도

- [ ] 투자 신호가 정확한가? (백테스트 검증 - 향후)
- [ ] 리스크 경고가 누락 없이 표시되는가?
- [ ] AI 분석이 가치 있는 인사이트를 제공하는가?

---

## 8. 면책 조항

```
본 정보는 투자 참고용이며 투자 조언이 아닙니다.
AI 분석은 참고 자료로만 활용하시고, 투자 결정은 본인의 판단과 책임 하에 이루어져야 합니다.
```

---

## 관련 문서

- [ROADMAP.md](../ROADMAP.md) - 전체 로드맵
- [vision.md](../.claude/rules/vision.md) - AI 비전 및 Phase 4-5
- [architecture.md](../.claude/rules/architecture.md) - 기술 아키텍처

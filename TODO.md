# TODO - ê°œì„  í•„ìš” ì‚¬í•­

> ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-12-27

## 0. ìµœê·¼ ì™„ë£Œ (2025-12-27)

- [x] **Graham Number êµ¬í˜„** - EPS, BPS, Graham Number ìˆ˜ì§‘ ë° í‘œì‹œ
  - ì»¤ë°‹: `ecdd2ea`
  - ìˆ˜ì§‘ê¸°: US/KR ëª¨ë‘ ì ìš©
  - DB: `metrics` í…Œì´ë¸”ì— `eps`, `book_value_per_share`, `graham_number` ì»¬ëŸ¼ ì¶”ê°€
  - í”„ë¡ íŠ¸ì—”ë“œ: ìƒì„¸ í˜ì´ì§€ì—ì„œ í‘œì‹œ
- [x] **í…ŒìŠ¤íŠ¸ ëª¨ë“œ ê°œì„ ** - `--test` ì‹¤í–‰ ì‹œ CSV íŒŒì¼ì— `_test` ì ‘ë¯¸ì‚¬ ì¶”ê°€
- [x] **RSI ì§€í‘œ ì¶”ê°€** - 14ì¼ ê¸°ì¤€ RSI ê³„ì‚° ë° í‘œì‹œ
  - ì»¤ë°‹: `81d4520`
  - ìˆ˜ì§‘ê¸°: íˆìŠ¤í† ë¦¬ ë°ì´í„°ë¡œ RSI ê³„ì‚°
  - DB: `metrics` í…Œì´ë¸”ì— `rsi` ì»¬ëŸ¼ ì¶”ê°€
  - í”„ë¡ íŠ¸ì—”ë“œ: 30 ì´í•˜ ê³¼ë§¤ë„(ì´ˆë¡), 70 ì´ìƒ ê³¼ë§¤ìˆ˜(ë¹¨ê°•) í‘œì‹œ
- [x] **ê±°ë˜ëŸ‰ ë³€í™”ìœ¨ ì¶”ê°€** - 20ì¼ í‰ê·  ëŒ€ë¹„ ê±°ë˜ëŸ‰ ë³€í™”ìœ¨ ê³„ì‚°
  - ì»¤ë°‹: `53e4bfd`
  - ìˆ˜ì§‘ê¸°: 20ì¼ í‰ê·  ê±°ë˜ëŸ‰ ëŒ€ë¹„ ë³€í™”ìœ¨(%) ê³„ì‚°
  - DB: `metrics` í…Œì´ë¸”ì— `volume_change` ì»¬ëŸ¼ ì¶”ê°€
  - í”„ë¡ íŠ¸ì—”ë“œ: +100% ë¹¨ê°•, +50% ì£¼í™©, -50% íŒŒë‘ í‘œì‹œ
- [x] **MACD ì§€í‘œ ì¶”ê°€** - ì´ë™í‰ê· ìˆ˜ë ´í™•ì‚° ì§€í‘œ
  - ì»¤ë°‹: `576fa00`
  - ìˆ˜ì§‘ê¸°: MACD Line (12ì¼-26ì¼ EMA), Signal (9ì¼ EMA), Histogram ê³„ì‚°
  - DB: `metrics` í…Œì´ë¸”ì— `macd`, `macd_signal`, `macd_histogram` ì»¬ëŸ¼ ì¶”ê°€
  - í”„ë¡ íŠ¸ì—”ë“œ: íˆìŠ¤í† ê·¸ë¨ ì–‘ìˆ˜ ì´ˆë¡(ìƒìŠ¹), ìŒìˆ˜ ë¹¨ê°•(í•˜ë½) í‘œì‹œ
- [x] **ë³¼ë¦°ì € ë°´ë“œ ì¶”ê°€** - ë³€ë™ì„± ë°´ë“œ ì§€í‘œ
  - ì»¤ë°‹: `7f5909d`
  - ìˆ˜ì§‘ê¸°: Upper/Middle/Lower Band (20ì¼ SMA Â± 2Ã—í‘œì¤€í¸ì°¨), %B ê³„ì‚°
  - DB: `metrics` í…Œì´ë¸”ì— `bb_upper`, `bb_middle`, `bb_lower`, `bb_percent` ì»¬ëŸ¼ ì¶”ê°€
  - í”„ë¡ íŠ¸ì—”ë“œ: %B 100% ì´ìƒ ê³¼ë§¤ìˆ˜(ë¹¨ê°•), 0% ì´í•˜ ê³¼ë§¤ë„(ì´ˆë¡) í‘œì‹œ
- [x] **MFI ì§€í‘œ ì¶”ê°€** - ìê¸ˆíë¦„ì§€ìˆ˜ (ê±°ë˜ëŸ‰ ê°€ì¤‘ RSI)
  - ì»¤ë°‹: `65dc337`
  - ìˆ˜ì§‘ê¸°: Typical Price Ã— Volume ê¸°ë°˜ MFI ê³„ì‚°
  - DB: `metrics` í…Œì´ë¸”ì— `mfi` ì»¬ëŸ¼ ì¶”ê°€
  - í”„ë¡ íŠ¸ì—”ë“œ: 20 ì´í•˜ ê³¼ë§¤ë„(ì´ˆë¡), 80 ì´ìƒ ê³¼ë§¤ìˆ˜(ë¹¨ê°•) í‘œì‹œ

---

## 1. ë°ì´í„° íŒŒì´í”„ë¼ì¸

### US ìˆ˜ì§‘ê¸° (`data-pipeline/collectors/us_stocks.py`)

- [x] Supabase ì €ì¥ ë¡œì§ êµ¬í˜„
- [x] Rate limiting ëŒ€ì‘ (sleep, ì¬ì‹œë„ ë¡œì§)
- [x] `--dry-run` ëª¨ë“œ ì¶”ê°€ (DB ì—†ì´ í…ŒìŠ¤íŠ¸)
- [x] ì§„í–‰ë¥  ë¡œê¹… ê°œì„ 
- [ ] ë°°ì¹˜ ì²˜ë¦¬ (ì‹¤íŒ¨ ì‹œ ì´ì–´ì„œ ìˆ˜ì§‘)
- [ ] ë°ì´í„° ê²€ì¦ (null ì²´í¬, ì´ìƒì¹˜ í•„í„°ë§)

### KR ìˆ˜ì§‘ê¸° (`data-pipeline/collectors/kr_stocks.py`)

- [x] `get_krx_tickers()` êµ¬í˜„ (pykrx í™œìš©)
- [x] corp_code ì¡°íšŒ ë¡œì§ êµ¬í˜„ (ì¢…ëª©ì½”ë“œ â†’ DART corp_code ë§¤í•‘)
- [x] `get_financial_statements()` ì‹¤ì œ ë°ì´í„° ì¶”ì¶œ ë¡œì§ êµ¬í˜„
- [x] Supabase ì €ì¥ ë¡œì§ êµ¬í˜„
- [x] `--dry-run` ëª¨ë“œ ì¶”ê°€ (DB ì—†ì´ í…ŒìŠ¤íŠ¸)

### ê³µí†µ

- [ ] `data-pipeline/collectors/base.py` - ê³µí†µ ì €ì¥/ì—ëŸ¬ ì²˜ë¦¬ ëª¨ë“ˆ
- [ ] `data-pipeline/processors/` - ë°ì´í„° ì •ì œ ë¡œì§

---

## 2. ë°ì´í„°ë² ì´ìŠ¤

### Supabase ìŠ¤í‚¤ë§ˆ ìƒì„±

- [x] `companies` í…Œì´ë¸” (id, ticker, name, market, sector, currency)
- [x] `financials` í…Œì´ë¸” (company_id, fiscal_year, quarter, revenue, ...)
- [x] `prices` í…Œì´ë¸” (company_id, date, close, market_cap)
- [x] `metrics` í…Œì´ë¸” (ê³„ì‚°ëœ ì§€í‘œ)
- [x] `watchlist` í…Œì´ë¸” (user_id, company_id, added_at)
- [x] `alerts` í…Œì´ë¸” (user_id, company_id, metric, operator, value)
- [x] `company_latest_metrics` ë·° (ìŠ¤í¬ë¦¬ë‹ìš©)
- [x] í†µí•© ìŠ¤í‚¤ë§ˆ íŒŒì¼ (`supabase/schema.sql`)

### ì¸ë±ìŠ¤ ë° ìµœì í™”

- [x] ticker, market ì¡°í•© ì¸ë±ìŠ¤
- [x] company_id + date ì¡°í•© ì¸ë±ìŠ¤
- [x] ìŠ¤í¬ë¦¬ë‹ìš© ë¶€ë¶„ ì¸ë±ìŠ¤ (pe_ratio, pb_ratio, roe, dividend_yield)

### ì ìš© ìƒíƒœ

- [x] Supabase SQL Editorì—ì„œ schema.sql ì‹¤í–‰ í•„ìš”
- [x] .envì— SUPABASE_URL, SUPABASE_KEY ì„¤ì • í•„ìš”

---

## 3. ë°±ì—”ë“œ API

### í•µì‹¬ êµ¬í˜„

- [x] `backend/app/core/config.py` - í™˜ê²½ë³€ìˆ˜ ì„¤ì • ê´€ë¦¬
- [x] `backend/app/core/database.py` - Supabase ì—°ê²°
- [x] `backend/app/models/stock.py` - Pydantic ëª¨ë¸
- [x] `backend/app/services/screener.py` - ìŠ¤í¬ë¦¬ë‹ ë¡œì§

### API ì—”ë“œí¬ì¸íŠ¸

- [x] `GET /api/stocks` - ì¢…ëª© ëª©ë¡ ì¡°íšŒ
- [x] `GET /api/stocks/{ticker}` - ì¢…ëª© ìƒì„¸ ì¡°íšŒ
- [x] `POST /api/screen` - ìŠ¤í¬ë¦¬ë‹ (í•„í„° + í”„ë¦¬ì…‹)
- [x] `GET /api/screen/presets` - í”„ë¦¬ì…‹ ì „ëµ ëª©ë¡

### í”„ë¦¬ì…‹ ì „ëµ

- [x] Graham Classic (P/E < 15, P/B < 1.5, D/E < 0.5)
- [x] Buffett Quality (ROE > 15%, Net Margin > 10%)
- [x] Dividend Value (ë°°ë‹¹ > 3%)
- [x] Deep Value (P/B < 1, P/E < 10)

### ì¶”ê°€ í•„ìš”

- [ ] ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ API (`/api/watchlist`)
- [ ] ì•Œë¦¼ API (`/api/alerts`)
- [ ] ì‚¬ìš©ì ì¸ì¦ (Supabase Auth)

---

## 4. ë³´ì•ˆ

- [ ] CORS ì„¤ì • ìˆ˜ì • (`"*"` â†’ íŠ¹ì • ë„ë©”ì¸ë§Œ í—ˆìš©)
- [ ] API í‚¤ ë…¸ì¶œ ë°©ì§€ (í™˜ê²½ë³€ìˆ˜ ê²€ì¦)
- [ ] Rate limiting ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€
- [ ] ì…ë ¥ ê²€ì¦ ê°•í™”

---

## 5. ë””ìŠ¤ì½”ë“œ ë´‡

- [x] `discord-bot/bot/main.py` - ë´‡ ë©”ì¸ ì½”ë“œ
- [x] `discord-bot/bot/api.py` - ë°±ì—”ë“œ API í´ë¼ì´ì–¸íŠ¸
- [x] `/stock {ticker}` ëª…ë ¹ì–´ - ì¢…ëª© ì •ë³´ ì¡°íšŒ
- [x] `/screen {preset}` ëª…ë ¹ì–´ - í”„ë¦¬ì…‹ ìŠ¤í¬ë¦¬ë‹
- [x] `/presets` ëª…ë ¹ì–´ - í”„ë¦¬ì…‹ ëª©ë¡
- [x] `/search {query}` ëª…ë ¹ì–´ - ì¢…ëª© ê²€ìƒ‰
- [ ] `/watch {ticker}` ëª…ë ¹ì–´ - ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ ì¶”ê°€
- [ ] `/watchlist` ëª…ë ¹ì–´ - ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
- [ ] `/alert {ticker} {metric} {operator} {value}` ëª…ë ¹ì–´

---

## 6. í”„ë¡ íŠ¸ì—”ë“œ (Next.js)

- [x] í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¸íŒ… (Next.js 14, Tailwind, React Query)
- [x] ë ˆì´ì•„ì›ƒ ë° ë„¤ë¹„ê²Œì´ì…˜ (Header, Footer)
- [x] API í´ë¼ì´ì–¸íŠ¸ (`src/lib/api.ts`)
- [x] ìŠ¤í¬ë¦¬ë„ˆ í˜ì´ì§€ (ë©”ì¸)
- [x] ì¢…ëª© ìƒì„¸ í˜ì´ì§€ (`/stocks/[ticker]`)
- [x] StockTable, FilterPanel ì»´í¬ë„ŒíŠ¸
- [ ] Supabase Auth ì—°ë™
- [ ] ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€
- [ ] ë‹¤í¬ëª¨ë“œ
- [ ] í•œ/ì˜ i18n

---

## 7. ì¸í”„ë¼ ë° ë°°í¬

- [x] Vercel ë°°í¬ ì„¤ì • (í”„ë¡ íŠ¸ì—”ë“œ) - https://stock-screener-inky.vercel.app
- [x] Render ë°°í¬ ì„¤ì • (ë°±ì—”ë“œ) - https://stock-screener-api-c0kc.onrender.com
- [ ] ë„ë©”ì¸ ì—°ê²°
- [x] GitHub Actions ì›Œí¬í”Œë¡œìš° ê°œì„  (ë³‘ë ¬ ì‹¤í–‰, ìˆ˜ë™ íŠ¸ë¦¬ê±° ì˜µì…˜)
- [x] Supabase CLI ì„¤ì • (`supabase/config.toml`)

---

## ìš°ì„ ìˆœìœ„

### P0 - ì¦‰ì‹œ (ì™„ë£Œ)
1. ~~Supabase í…Œì´ë¸” ìƒì„±~~ âœ…
2. ~~US ìˆ˜ì§‘ê¸° ì €ì¥ ë¡œì§~~ âœ…
3. ~~KR í‹°ì»¤ í™•ë³´ ë°©ë²• ê²°ì •~~ âœ… (pykrx ì‚¬ìš©)
4. ~~ë°±ì—”ë“œ API ê¸°ë³¸ êµ¬ì¡°~~ âœ…
5. ~~í”„ë¡ íŠ¸ì—”ë“œ MVP~~ âœ…
6. ~~ë””ìŠ¤ì½”ë“œ ë´‡ ê¸°ë³¸ ê¸°ëŠ¥~~ âœ…

### P1 - ë†’ìŒ (ë‹¤ìŒ ë‹¨ê³„)
1. Supabase ìŠ¤í‚¤ë§ˆ ì ìš© (SQL Editorì—ì„œ ì‹¤í–‰)
2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env)
3. ë°ì´í„° ìˆ˜ì§‘ ì‹¤í–‰ (US/KR)
4. í†µí•© í…ŒìŠ¤íŠ¸

### P2 - ì¤‘ê°„
1. Supabase Auth ì—°ë™
2. ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥
3. ì•Œë¦¼ ì‹œìŠ¤í…œ

### P3 - ë‚®ìŒ
1. ë‹¤í¬ëª¨ë“œ
2. i18n (í•œ/ì˜)
3. í”„ë¡œë•ì…˜ ë³´ì•ˆ ê°•í™” (CORS ì œí•œ)
4. ì„±ëŠ¥ ìµœì í™”
5. ~~ë°°í¬ (Vercel, Render)~~ âœ… ì™„ë£Œ

---

## ğŸ”® ì§€í‘œ í™•ì¥ ê³„íš (ì˜ì‚¬ê²°ì • í•„ìš”)

> ë°ì´í„° ìˆ˜ì§‘ì´ ì˜¤ë˜ ê±¸ë¦¬ë¯€ë¡œ, í•„ìš”í•œ ì§€í‘œë¥¼ ë¯¸ë¦¬ ì„¤ê³„í•˜ì—¬ í•œ ë²ˆì— ìˆ˜ì§‘í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì .

### í˜„ì¬ ìˆ˜ì§‘ ì¤‘ (í‘œì‹œë§Œ ì¶”ê°€ í•„ìš”)
| ì§€í‘œ | í•„ë“œëª… | ì‘ì—… |
|------|--------|------|
| ~~52ì£¼ ìµœê³ ~~ | `fifty_two_week_high` | âœ… ì™„ë£Œ |
| ~~52ì£¼ ìµœì €~~ | `fifty_two_week_low` | âœ… ì™„ë£Œ |
| ~~Beta~~ | `beta` | âœ… ì™„ë£Œ |

### ì˜µì…˜ 1: yfinance ì§ì ‘ ì œê³µ (ê¶Œì¥ - ë¹ ë¦„) âœ… ì™„ë£Œ
- ~~50ì¼/200ì¼ ì´ë™í‰ê· ~~: `fiftyDayAverage`, `twoHundredDayAverage` âœ… ì™„ë£Œ
- ~~PEG Ratio~~: `trailingPegRatio` âœ… ì™„ë£Œ
- ìˆ˜ì§‘ ì‹œê°„ ê±°ì˜ ì¦ê°€ ì—†ìŒ

### ì˜µì…˜ 2: Phase 2 (íƒ€ì´ë° ì§€í‘œ) âœ… ì™„ë£Œ
- ~~RSI (14ì¼)~~: `rsi` âœ… ì™„ë£Œ
- ~~ê±°ë˜ëŸ‰ ë³€í™”ìœ¨~~: `volume_change` âœ… ì™„ë£Œ
- ìˆ˜ì§‘ ì‹œê°„ ì¦ê°€

### ì˜µì…˜ 3: Phase 3 ì „ì²´ (ê³ ê¸‰ ë¶„ì„) âœ… ì™„ë£Œ
- ~~MACD~~: `macd`, `macd_signal`, `macd_histogram` âœ… ì™„ë£Œ
- ~~ë³¼ë¦°ì € ë°´ë“œ~~: `bb_upper`, `bb_middle`, `bb_lower`, `bb_percent` âœ… ì™„ë£Œ
- ~~Money Flow Index~~: `mfi` âœ… ì™„ë£Œ
- íˆìŠ¤í† ë¦¬ 60ì¼ í•„ìš”
- ìˆ˜ì§‘ ì‹œê°„ ëŒ€í­ ì¦ê°€

### ê²°ì • ì‚¬í•­
- [ ] ì–´ë–¤ ì˜µì…˜ìœ¼ë¡œ ì§„í–‰í• ì§€ ê²°ì •
- [ ] ë°ì´í„° ìˆ˜ì§‘ ì „ ìŠ¤í‚¤ë§ˆ ë¯¸ë¦¬ ì„¤ê³„
